"use strict";(self["webpackChunkmetawall"]=self["webpackChunkmetawall"]||[]).push([[342],{2416:function(e,r,s){s.d(r,{C:function(){return l},s:function(){return o}});var t=s(2492),a=s.n(t);const l=(e,r=1e3,s=!1)=>a().fire({icon:"success",text:e,timer:r,showConfirmButton:s}),o=(e="這是無效的操作！")=>{a().fire({icon:"error",text:e})}},7342:function(e,r,s){s.r(r),s.d(r,{default:function(){return S}});var t=s(3396),a=s(7139),l=s(1215);const o={class:"container | position-absolute top-0 start-0 end-0 bottom-0 | d-flex justify-content-center align-items-center | px-6 px-md-0"},n={class:"w-100 w-md-492 w-lg-869 flex-shrink-0 card card-shadow-1 rounded-0 border-2 border-dark | bg-gray-1 | px-3 px-md-6 px-lg-12 py-3 py-md-12 py-lg-70"},d={class:"row gx-md-12"},i=(0,t._)("div",{class:"col-lg-6 | d-none d-lg-block"},[(0,t._)("img",{src:l,class:"h-100 | img-fluid rounded-start",alt:"MetaWall 插圖"})],-1),c={class:"col-lg-6"},m={class:"card-body | text-center | p-0"},u=(0,t._)("h1",{class:"font-paytone fs-60 text-primary lh-14"},"MetaWall",-1),p=(0,t._)("h5",{class:"card-title fs-md-4 lh-sm | mb-9"},"到元宇宙展開全新社交圈",-1),b={class:"mb-4"},f=(0,t._)("label",{for:"email",class:"form-label d-none"},null,-1),w={class:"mb-8"},g=(0,t._)("label",{for:"password",class:"form-label d-none"},null,-1),x={key:0,class:"text-center text-danger | mb-4"},y={key:1,class:"text-center text-danger | mb-4"},h=(0,t._)("button",{type:"submit",class:"w-100 | btn btn-shadow btn-primary btn-hover-warning | border rounded-8 border-2 border-dark text-white | py-2 py-md-4"}," 登入 ",-1),v={class:"text-center"},_=(0,t.Uk)("註冊帳號");function k(e,r,s,l,k,V){const W=(0,t.up)("VField"),C=(0,t.up)("VForm"),j=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",n,[(0,t._)("div",d,[i,(0,t._)("div",c,[(0,t._)("div",m,[u,p,(0,t.Wm)(C,{onSubmit:l.login,class:"mb-4"},{default:(0,t.w5)((({errors:e})=>[(0,t._)("div",b,[f,(0,t.Wm)(W,{name:"Email",rules:"required|email",modelValue:l.user.email,"onUpdate:modelValue":r[0]||(r[0]=e=>l.user.email=e),type:"email",class:"form-control rounded-0 border-2 border-dark | py-2 py-md-4 px-3 px-md-6",id:"email",placeholder:"Email"},null,8,["modelValue"])]),(0,t._)("div",w,[g,(0,t.Wm)(W,{name:"password",rules:"required|min:8|alpha_num",modelValue:l.user.password,"onUpdate:modelValue":r[1]||(r[1]=e=>l.user.password=e),type:"password",class:"form-control rounded-0 border-2 border-dark | py-2 py-md-4 px-3 px-md-6",id:"password",placeholder:"Password"},null,8,["modelValue"])]),l.isVerified?((0,t.wg)(),(0,t.iD)("p",y,(0,a.zw)(e.Email||e.password),1)):((0,t.wg)(),(0,t.iD)("p",x," 帳號或密碼錯誤，請重新輸入！ ")),h])),_:1},8,["onSubmit"]),(0,t._)("div",v,[(0,t.Wm)(j,{to:"/register",class:"link-dark font-monospace"},{default:(0,t.w5)((()=>[_])),_:1})])])])])])])}var V=s(4870),W=s(678),C=s(8042),j=s(2416),q={setup(){const e=(0,W.tv)(),r=(0,V.qj)({email:"",password:""}),s=(0,V.iH)(!0),t=async()=>{try{const s=await(0,C.Z)("/users/sign_in","post",r);localStorage.setItem("jwt",s.data.user.token),(0,j.C)("登入成功！").then((()=>e.push("/posts")))}catch(t){s.value=!1,setTimeout((()=>{s.value=!0}),3e3)}};return{user:r,login:t,isVerified:s}}},D=s(89);const E=(0,D.Z)(q,[["render",k]]);var S=E},1215:function(e,r,s){e.exports=s.p+"img/img.b74fc2f8.svg"}}]);
//# sourceMappingURL=342.83c673ee.js.map